"use strict";!function(){for(var c=[],l=function(e,t,r,s,i){c[e]=document.createElement(t);for(var a=0;a<r.length;a++)c[e].classList.add(r[a]);c[e].innerText=s,i.appendChild(c[e])},s=document.querySelectorAll(".form__checkbox-info"),d=document.querySelectorAll(".form__checkbox"),e=function(t){s[t].addEventListener("click",function(e){1==d[t].checked&&s[t].classList.remove("form__checkbox-info--chec"),0==d[t].checked&&s[t].classList.add("form__checkbox-info--chec")}),s[t].addEventListener("touch",function(e){1==d[t].checked&&s[t].classList.remove("form__checkbox-info--chec"),0==d[t].checked&&s[t].classList.add("form__checkbox-info--chec")})},t=0;t<s.length;t++)e(t);var _=document.querySelectorAll(".form__input"),i=document.querySelectorAll(".form__label"),u=document.querySelectorAll(".form__checkbox-wrapper"),v=document.querySelectorAll(".form__input-wrapper"),r=function(t){_[t].addEventListener("focus",function(e){i[t].classList.add("form__label--active")}),_[t].addEventListener("focusout",function(e){""==_[t].value&&i[t].classList.remove("form__label--active")})};for(t=0;t<_.length;t++)r(t);var a=document.querySelectorAll("#form"),n=function(t){_[t].addEventListener("focus",function(e){c["error"+t]&&(c["error"+t].remove(),delete c["error"+t])})};for(t=0;t<_.length;t++)n(t);var o=function(t){s[t].addEventListener("click",function(e){c["errorBox"+t]&&(c["errorBox"+t].remove(),delete c["errorBox"+t])})};for(t=0;t<s.length;t++)o(t);function m(e,t,r,s){for(var i=0,a=0,n=e;n<t;n++)0==d[n].checked&&(c["errorBox"+n]||l("errorBox"+n,"div",n<2?["form__error","form__error--checkbox"]:["form__error","form__error--checkbox","form__error--white"],"Wymagana zgoda.",u[n]),i++);for(var o=r;o<s;o++)0==_[o].value.length&&(c["error"+o]||l("error"+o,"div",o<3?["form__error"]:["form__error","form__error--white"],"Proszę uzupełnić pole.",v[o]),a++);if(0<i||0<a)return!1}function f(e,t){var r=new FormData;r.append("name",document.querySelectorAll("#name")[t].value),r.append("phone",document.querySelectorAll("#phone")[t].value),r.append("message",document.querySelectorAll("#message")[t].value),fetch(e,{method:"POST",body:r}).then(function(e){g[t].classList.add("loader--hidden"),h[t].textContent="Wiadomość została wysłana.",h[t].classList.add("form__status--active")}).catch(function(e){console.log(e),g[t].classList.add("loader--hidden"),h[t].textContent="Błąd systemu.",h[t].classList.add("form__status--active")})}var h=document.querySelectorAll(".form__status"),g=document.querySelectorAll(".loader");a[0].addEventListener("submit",function(e){if(e.preventDefault(),0==m(0,2,0,3))return!1;f("../../inc/send_inwestments.php",0);for(var t=0;t<2;t++)s[t].classList.remove("form__checkbox-info--chec"),d[t].checked=!1;for(var r=0;r<3;r++)_[r].value="",i[r].classList.remove("form__label--active");g[0].classList.remove("loader--hidden")}),a[1].addEventListener("submit",function(e){if(e.preventDefault(),0==m(2,4,3,6))return!1;f("../../inc/send_contact.php",1);for(var t=2;t<s.length;t++)s[t].classList.remove("form__checkbox-info--chec"),d[t].checked=!1;for(var r=3;r<_.length;r++)_[r].value="",i[r].classList.remove("form__label--active");g[1].classList.remove("loader--hidden")});var p=function(e){a[e].addEventListener("click",function(){h[e].classList.remove("form__status--active")}),a[e].addEventListener("touch",function(){h[e].classList.remove("form__status--active")})};for(t=0;t<h.length;t++)p(t)}(),function(){function a(e,t,r,s,i){n[e]=document.createElement(t);for(var a=0;a<r.length;a++)n[e].classList.add(r[a]);n[e].innerText=s,i.appendChild(n[e])}var n=[],o=document.querySelector(".slider");fetch("https://api.adcookie.usermd.net/deweloper/").then(function(e){return e.json()}).then(function(e){for(var t=document.querySelector(".slider__dots-wrapper"),r=function(e){for(var t=["Północ","Północny-Wschód","Wschód","Południowy-Wschód","Południe","Południowy-Zachód","Zachód","Północny-Zachód"],r=1;r<t.length;r++)if(e==t[r])return 45*r},s=0;s<e.length;s++){var i=void 0;i=0==e[s].pietro?"- Parter":"- Piętro",a("slider__slide"+s,"div",["slider__slide"],null,o),0<s&&s!=e.length-1&&n["slider__slide"+s].classList.add("slider__slide--right"),s==e.length-1&&n["slider__slide"+s].classList.add("slider__slide--left"),n["slider__slide"+s].innerHTML='\n                <div class="slider__info-wrapper">\n                    <h2 class="slider__local-name">'.concat(e[s].nazwa,'</h2>\n                    <figure class="figure-line"></figure>\n                    <p class="slider__local-yardage">Metraż: ').concat(e[s].metraz,' m2</p>\n                    <p class="slider__local-price">Cena Netto: ').concat(e[s].netto.toLocaleString("pl-PL"),' zł*</p>\n                    <p class="slider__local-info-price">* cena nie zawiera 23% VAT</p>\n                    <p class="slider__local-floor">Piętro: ').concat(e[s].pietro+i,' </p>\n                    <p class="slider__local-destyny">Przeznaczenie: ').concat(e[s].przeznaczenie,'</p>\n                    <p class="slider__loacal-status">Status: ').concat(e[s].status,'</p>\n                    <button class="button--black button--ask button"><a id="button-scroll" class="button__link" href="#investments"></a>Zapytaj</button><button class="button--black button--download button"><a class="button__link" href="assets/images/plan.pdf" target="_blank"></a>Pobierz plan</button>\n                </div>\n                <img class="slider__blueprint" src="').concat(e[s].obrazki.rzut,'">\n                <div class="slider__map-wrapper">\n                    <img class="slider__compass" src="assets/images/SVG/polnoc.svg" style="transform: rotate(').concat(r(e[s].ekspozycja),'deg)">\n                    <img class="slider__map" src="').concat(e[s].obrazki.pietro,'">\n                </div>\n                '),a("slider__dot"+s,"figure",["slider__dot"],null,t),0===s&&n["slider__dot"+s].classList.add("slider__dot--active")}}).then(function(e){for(var t=document.querySelectorAll(".nav__menu-link"),r=document.querySelectorAll("#button-scroll"),s=0;s<r.length;s++)r[s].addEventListener("click",a),r[s].addEventListener("touch",a);for(var i=0;i<t.length;i++)t[i].addEventListener("click",a),t[i].addEventListener("touch",a);function a(e){e.preventDefault();var t="#"===e.currentTarget.getAttribute("href")?"header":e.currentTarget.getAttribute("href"),r=document.querySelector(t).offsetTop-60,s=window.pageYOffset,i=r-s,a=700,n=null;window.requestAnimationFrame(function e(t){n=n||t;var r=t-n;window.scrollTo(0,o(r,s,i,a));r<a&&window.requestAnimationFrame(e)}),history.replaceState?history.replaceState(null,null,t):location.hash=t}var o=function(e,t,r,s){return(e/=s/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}}).then(function(e){function t(){s=++c-1,i=c+1,c==o.length&&(c=0,s=o.length-1,i=c+1),c==o.length-1&&(i=0),o[s].classList.add("slider__slide--left"),o[i].classList.add("slider__slide--right"),o[c].classList.remove("slider__slide--right"),o[c].classList.remove("slider__slide--left"),n[c].classList.add("slider__dot--active"),n[s].classList.remove("slider__dot--active")}function r(){s=--c+1,i=c-1,c<0&&(c=o.length-1,s=0,i=c-1),0==c&&(i=o.length-1),o[s].classList.add("slider__slide--right"),o[i].classList.remove("slider__slide--right"),o[i].classList.add("slider__slide--left"),o[c].classList.remove("slider__slide--left"),n[s].classList.remove("slider__dot--active"),n[c].classList.add("slider__dot--active")}var s,i,a=document.querySelectorAll("#arrow"),n=document.querySelectorAll(".slider__dot"),o=document.querySelectorAll(".slider__slide"),c=0;a[1].addEventListener("click",t),a[1].addEventListener("touch",t),a[0].addEventListener("click",r),a[0].addEventListener("touch",r),document.addEventListener("keydown",function(e){37==e.keyCode&&r(),39==e.keyCode&&t()});for(var l=function(e){s=(c=e)-1,i=c+1,c==o.length-1&&(i=0),0==c&&(s=o.length-1);for(var t=0;t<o.length;t++)c<t&&o[t].classList.add("slider__slide--right"),t<c&&o[t].classList.add("slider__slide--left");o[s].classList.add("slider__slide--left"),o[s].classList.remove("slider__slide--right"),o[i].classList.add("slider__slide--right"),o[c].classList.remove("slider__slide--right"),o[c].classList.remove("slider__slide--left");for(var r=0;r<n.length;r++)n[r].classList.remove("slider__dot--active");n[c].classList.add("slider__dot--active")},d=function(t){n[t].addEventListener("click",function(e){l(t)}),n[t].addEventListener("touch",function(e){l(t)})},_=0;_<n.length;_++)d(_)}).catch(function(e){console.log("Błąd API: ",e);a("slider__errorApi","h2",["slider__error-api"],"Przepraszamy. Brak połączenia z serwerem.",o)});var t=document.querySelector(".nav__hamburger"),r=document.querySelector(".nav__hamburger-line"),s=document.querySelector(".nav__menu");t.addEventListener("click",function(e){r.classList.toggle("nav__hamburger-line--active"),t.classList.toggle("nav__hamburger--active"),s.classList.toggle("nav__menu--active")},!1),t.addEventListener("touch",function(e){r.classList.toggle("nav__hamburger-line--active"),t.classList.toggle("nav__hamburger--active"),s.classList.toggle("nav__menu--active")},!1);for(var e=document.querySelectorAll(".nav__menu-link"),i=0;i<e.length;i++)e[i].addEventListener("click",function(e){r.classList.remove("nav__hamburger-line--active"),t.classList.remove("nav__hamburger--active"),s.classList.add("nav__menu--active")},!1),e[i].addEventListener("touch",function(e){r.classList.remove("nav__hamburger-line--active"),t.classList.remove("nav__hamburger--active"),s.classList.add("nav__menu--active")},!1);for(var c=document.createDocumentFragment(),l=document.querySelectorAll(".statistics__digit-wrapper"),d=[6,3,3,4,9,5,1,5],_=0;_<d.length;_++){for(var u=0;u<=d[_];u++)a("statistics__digit","p",["statistics__digit"],u,c);l[_].appendChild(c)}var v=window.pageYOffset+60,m=document.querySelector(".nav");window.onscroll=function(){var e=window.pageYOffset;if(e<v?m.classList.remove("nav--hide"):m.classList.add("nav--hide"),e>l[0].offsetTop-window.innerHeight)l[0].classList.add("statistics__digit-wrapper--animate"),l[1].classList.add("statistics__digit-wrapper--animate"),l[2].classList.add("statistics__digit-wrapper--animate"),l[2].addEventListener("animationend",function(e){l[3].classList.add("statistics__digit-wrapper--animate"),l[4].classList.add("statistics__digit-wrapper--animate"),l[5].classList.add("statistics__digit-wrapper--animate")}),l[5].addEventListener("animationend",function(e){l[6].classList.add("statistics__digit-wrapper--animate"),l[7].classList.add("statistics__digit-wrapper--animate")});else for(var t=0;t<l.length;t++)l[t].classList.remove("statistics__digit-wrapper--animate");v=e}}();