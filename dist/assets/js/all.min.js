"use strict";!function(){for(var c=document.querySelectorAll(".form__input"),r=document.querySelectorAll(".form__label"),l=document.querySelectorAll(".form__checkbox-wrapper"),d=document.querySelectorAll(".form__input-wrapper"),u=document.querySelectorAll(".form__checkbox"),e=function(t){c[t].addEventListener("focus",function(e){r[t].classList.add("form__label--active")}),c[t].addEventListener("focusout",function(e){""==c[t].value&&r[t].classList.remove("form__label--active")})},t=0;t<c.length;t++)e(t);function a(){for(var e=0;e<c.length;e++)createElements["error"+e]&&(createElements["error"+e].remove(),delete createElements["error"+e]);for(var t=0;t<u.length;t++)createElements["errorBox"+t]&&(createElements["errorBox"+t].remove(),delete createElements["errorBox"+t]);for(var r=0;r<o.length;r++)o[r].classList.remove("form__status--active")}var n=document.querySelectorAll("#form"),o=document.querySelectorAll(".form__status");document.body.addEventListener("click",a),document.body.addEventListener("touch",a);function i(e,t,r,a){for(var n=/^(?:\(?\+?48)?(?:[-\.\(\)\s]*(\d)){9}\)?$/,o=/^\S+@\S+\.[A-Za-z]+$/,i=r;i<a;i++){if(0==c[i].value.length)return createElements["error"+i]||createElement("error"+i,"div",i<3?["form__error"]:["form__error","form__error--white"],"Proszę uzupełnić pole.",d[i]),!1;if(1==i&&!c[i].value.match(n))return createElements["error"+i]||createElement("error"+i,"div",["form__error"],"Błędny numer telefonu.",d[i]),!1;if(4==i&&!c[i].value.match(n)&&!c[i].value.match(o))return createElements["error"+i]||createElement("error"+i,"div",["form__error","form__error--white"],"Błędny telefon lub adres email.",d[i]),!1}for(var s=e;s<t;s++)if(!u[s].checked)return createElements["errorBox"+s]||createElement("errorBox"+s,"div",s<2?["form__error","form__error--checkbox"]:["form__error","form__error--checkbox","form__error--white"],"Wymagana zgoda.",l[s]),!1}function s(e,t){var r=new FormData;r.append("name",document.querySelectorAll("#name")[t].value),r.append("phone",document.querySelectorAll("#phone")[t].value),r.append("message",document.querySelectorAll("#message")[t].value),fetch(e,{method:"POST",body:r}).then(function(e){m[t].classList.add("loader--hidden"),o[t].textContent="Wiadomość została wysłana.",o[t].classList.add("form__status--active")}).catch(function(e){console.log(e),m[t].classList.add("loader--hidden"),o[t].textContent="Błąd systemu.",o[t].classList.add("form__status--active")})}var m=document.querySelectorAll(".loader");n[0].addEventListener("submit",function(e){if(e.preventDefault(),0==i(0,2,0,3))return!1;s("../../inc/send_inwestments.php",0),n[0].reset();for(var t=0;t<3;t++)r[t].classList.remove("form__label--active");m[0].classList.remove("loader--hidden")}),n[1].addEventListener("submit",function(e){if(e.preventDefault(),0==i(2,4,3,6))return!1;s("../../inc/send_contact.php",1),n[1].reset();for(var t=3;t<c.length;t++)r[t].classList.remove("form__label--active");m[1].classList.remove("loader--hidden")})}();var createElements=[],createElement=function(e,t,r,a,n){createElements[e]=document.createElement(t);for(var o=0;o<r.length;o++)createElements[e].classList.add(r[o]);createElements[e].innerText=a,n.appendChild(createElements[e])};!function(){var n=document.querySelector(".swiper-wrapper");fetch("https://api.adcookie.usermd.net/deweloper/").then(function(e){return e.json()}).then(function(e){for(var t=function(e){for(var t=["Północ","Północny-Wschód","Wschód","Południowy-Wschód","Południe","Południowy-Zachód","Zachód","Północny-Zachód"],r=1;r<t.length;r++)if(e==t[r])return 45*r},r=0;r<e.length;r++){var a=void 0;a=0==e[r].pietro?"- Parter":"- Piętro",createElement("swiper__slide".concat(r),"div",["swiper-slide"],null,n),createElements["swiper__slide".concat(r)].innerHTML='\n                <div class="swiper__info-wrapper">\n                    <h2 class="swiper__local-name">'.concat(e[r].nazwa,'</h2>\n                    <figure class="figure-line"></figure>\n                    <p class="swiper__local-yardage">Metraż: ').concat(e[r].metraz,' m2</p>\n                    <p class="swiper__local-price">Cena Netto: ').concat(e[r].netto.toLocaleString("pl-PL"),' zł*</p>\n                    <p class="swiper__local-info-price">* cena nie zawiera 23% VAT</p>\n                    <p class="swiper__local-floor">Piętro: ').concat(e[r].pietro+a,' </p>\n                    <p class="swiper__local-destyny">Przeznaczenie: ').concat(e[r].przeznaczenie,'</p>\n                    <p class="swiper__loacal-status">Status: ').concat(e[r].status,'</p>\n                    <button class="button--black button--ask button"><a id="button-scroll" class="button__link" href="#investments"></a>Zapytaj</button><button class="button--black button--download button"><a class="button__link" href="assets/images/plan.pdf" target="_blank"></a>Pobierz plan</button>\n                </div>\n                <img class="swiper__blueprint" src="').concat(e[r].obrazki.rzut,'">\n                <div class="swiper__map-wrapper">\n                    <img class="swiper__compass" src="assets/images/SVG/polnoc.svg" style="transform: rotate(').concat(t(e[r].ekspozycja),'deg)">\n                    <img class="swiper__map" src="').concat(e[r].obrazki.pietro,'">\n                </div>\n                '),mySwiper.appendSlide(createElements["swiper__slide".concat(r)])}}).then(function(e){for(var t=document.querySelectorAll(".nav__menu-link"),r=document.querySelectorAll("#button-scroll"),a=0;a<r.length;a++)r[a].addEventListener("click",o),r[a].addEventListener("touch",o);for(var n=0;n<t.length;n++)t[n].addEventListener("click",o),t[n].addEventListener("touch",o);function o(e){e.preventDefault();var t="#"===e.currentTarget.getAttribute("href")?"header":e.currentTarget.getAttribute("href"),r=document.querySelector(t).offsetTop-60,a=window.pageYOffset,n=r-a,o=700,i=null;window.requestAnimationFrame(function e(t){i=i||t;var r=t-i;window.scrollTo(0,s(r,a,n,o));r<o&&window.requestAnimationFrame(e)}),history.replaceState?history.replaceState(null,null,t):location.hash=t}var s=function(e,t,r,a){return(e/=a/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}}).catch(function(e){console.log("Błąd API: ",e);createElement("swiper__errorApi","h2",["swiper__error-api"],"Przepraszamy. Brak połączenia z serwerem.",n)});var t=document.querySelector(".nav__hamburger"),r=document.querySelector(".nav__hamburger-line"),a=document.querySelector(".nav__menu");t.addEventListener("click",function(e){r.classList.toggle("nav__hamburger-line--active"),t.classList.toggle("nav__hamburger--active"),a.classList.toggle("nav__menu--active")},!1),t.addEventListener("touch",function(e){r.classList.toggle("nav__hamburger-line--active"),t.classList.toggle("nav__hamburger--active"),a.classList.toggle("nav__menu--active")},!1);for(var e=document.querySelectorAll(".nav__menu-link"),o=0;o<e.length;o++)e[o].addEventListener("click",function(e){r.classList.remove("nav__hamburger-line--active"),t.classList.remove("nav__hamburger--active"),a.classList.add("nav__menu--active")},!1),e[o].addEventListener("touch",function(e){r.classList.remove("nav__hamburger-line--active"),t.classList.remove("nav__hamburger--active"),a.classList.add("nav__menu--active")},!1);for(var i=document.createDocumentFragment(),s=document.querySelectorAll(".statistics__digit-wrapper"),c=[6,3,3,4,9,5,1,5],l=0;l<c.length;l++){for(var d=0;d<=c[l];d++)createElement("statistics__digit","p",["statistics__digit"],d,i);s[l].appendChild(i)}var u=window.pageYOffset+60,m=document.querySelector(".nav");window.onscroll=function(){var e=window.pageYOffset;e<u?m.classList.remove("nav--hide"):m.classList.add("nav--hide"),e>s[0].offsetTop-window.innerHeight&&(s[0].classList.add("statistics__digit-wrapper--animate"),s[1].classList.add("statistics__digit-wrapper--animate"),s[2].classList.add("statistics__digit-wrapper--animate"),s[2].addEventListener("animationend",function(e){s[3].classList.add("statistics__digit-wrapper--animate"),s[4].classList.add("statistics__digit-wrapper--animate"),s[5].classList.add("statistics__digit-wrapper--animate")}),s[5].addEventListener("animationend",function(e){s[6].classList.add("statistics__digit-wrapper--animate"),s[7].classList.add("statistics__digit-wrapper--animate")})),u=e}}();var mySwiper=new Swiper(".swiper-container",{direction:"horizontal",loop:!0,initialSlide:1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper__next",prevEl:".swiper__prev"}});