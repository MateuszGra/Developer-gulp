"use strict";!function(){for(var i=document.querySelectorAll(".form__checkbox-info"),l=document.querySelectorAll(".form__checkbox"),e=function(t){i[t].addEventListener("click",function(e){1==l[t].checked&&i[t].classList.remove("form__checkbox-info--chec"),0==l[t].checked&&i[t].classList.add("form__checkbox-info--chec")}),i[t].addEventListener("touch",function(e){1==l[t].checked&&i[t].classList.remove("form__checkbox-info--chec"),0==l[t].checked&&i[t].classList.add("form__checkbox-info--chec")})},t=0;t<i.length;t++)e(t);var o=document.querySelectorAll(".form__input"),a=document.querySelectorAll(".form__label"),s=function(t){o[t].addEventListener("focus",function(e){a[t].classList.add("form__label--active")}),o[t].addEventListener("focusout",function(e){""==o[t].value&&a[t].classList.remove("form__label--active")})};for(t=0;t<o.length;t++)s(t);var n=document.querySelectorAll("#form"),d=document.querySelectorAll(".form__error--checkbox"),_=document.querySelectorAll("#error"),r=document.querySelectorAll(".form__status"),c=document.querySelectorAll(".loader"),u=function(t){o[t].addEventListener("focus",function(e){_[t].classList.add("form__error--not-active")})};for(t=0;t<o.length;t++)u(t);var v=function(t){i[t].addEventListener("click",function(e){d[t].classList.add("form__error--not-active")})};for(t=0;t<i.length;t++)v(t);function m(e,t){var s=new FormData;s.append("name",document.querySelectorAll("#name")[t].value),s.append("phone",document.querySelectorAll("#phone")[t].value),s.append("message",document.querySelectorAll("#message")[t].value),fetch(e,{method:"POST",body:s}).then(function(e){c[t].classList.add("loader--hidden"),r[t].textContent="Wiadomość została wysłana",r[t].classList.add("form__status--active")}).catch(function(e){console.log(e),c[t].classList.add("loader--hidden"),r[t].textContent="Błąd systemu",r[t].classList.add("form__status--active")})}function f(e,t,s,i){for(var a=0,n=0,r=e;r<t;r++)0==l[r].checked&&(d[r].classList.remove("form__error--not-active"),a++);for(var c=s;c<i;c++)0==o[c].value.length&&(_[c].classList.remove("form__error--not-active"),n++);if(0<a||0<n)return!1}n[0].addEventListener("submit",function(e){if(e.preventDefault(),0==f(0,2,0,3))return!1;m("../../inc/send_inwestments.php",0);for(var t=0;t<2;t++)i[t].classList.remove("form__checkbox-info--chec"),l[t].checked=!1;for(var s=0;s<3;s++)o[s].value="",a[s].classList.remove("form__label--active");c[0].classList.remove("loader--hidden")}),n[1].addEventListener("submit",function(e){if(e.preventDefault(),0==f(2,4,3,6))return!1;m("../../inc/send_contact.php",1);for(var t=2;t<i.length;t++)i[t].classList.remove("form__checkbox-info--chec"),l[t].checked=!1;for(var s=3;s<o.length;s++)o[s].value="",a[s].classList.remove("form__label--active");c[1].classList.remove("loader--hidden")});var h=function(e){n[e].addEventListener("click",function(){r[e].classList.remove("form__status--active")}),n[e].addEventListener("touch",function(){r[e].classList.remove("form__status--active")})};for(t=0;t<r.length;t++)h(t)}(),function(){function n(e,t,s,i,a){window[e]=document.createElement(t),window[e].classList.add(s),window[e].innerText=i,a.appendChild(window[e])}var r=document.querySelector(".slider");fetch("https://api.adcookie.usermd.net/deweloper/").then(function(e){return e.json()}).then(function(e){for(var t=document.querySelector(".slider__dots-wrapper"),s=function(e){for(var t=["Północ","Północny-Wschód","Wschód","Południowy-Wschód","Południe","Południowy-Zachód","Zachód","Północny-Zachód"],s=1;s<t.length;s++)if(e==t[s])return 45*s},i=0;i<e.length;i++){var a=void 0;a=0==e[i].pietro?"- Parter":"- Piętro",n("slider__slide","div","slider__slide",null,r),0<i&&i!=e.length-1&&slider__slide.classList.add("slider__slide--right"),i==e.length-1&&slider__slide.classList.add("slider__slide--left"),slider__slide.innerHTML='\n                <div class="slider__info-wrapper">\n                    <h2 class="slider__local-name">'.concat(e[i].nazwa,'</h2>\n                    <figure class="figure-line"></figure>\n                    <p class="slider__local-yardage">Metraż: ').concat(e[i].metraz,' m2</p>\n                    <p class="slider__local-price">Cena Netto: ').concat(e[i].netto.toLocaleString("pl-PL"),' zł*</p>\n                    <p class="slider__local-info-price">* cena nie zawiera 23% VAT</p>\n                    <p class="slider__local-floor">Piętro: ').concat(e[i].pietro+a,' </p>\n                    <p class="slider__local-destyny">Przeznaczenie: ').concat(e[i].przeznaczenie,'</p>\n                    <p class="slider__loacal-status">Status: ').concat(e[i].status,'</p>\n                    <button class="button--black button--ask button"><a id="button-scroll" class="button__link" href="#investments"></a>Zapytaj</button><button class="button--black button--download button"><a class="button__link" href="assets/images/plan.pdf" target="_blank"></a>Pobierz plan</button>\n                </div>\n                <img class="slider__blueprint" src="').concat(e[i].obrazki.rzut,'">\n                <div class="slider__map-wrapper">\n                    <img class="slider__compass" src="assets/images/SVG/polnoc.svg" style="transform: rotate(').concat(s(e[i].ekspozycja),'deg)">\n                    <img class="slider__map" src="').concat(e[i].obrazki.pietro,'">\n                </div>\n                '),n("slider__dot","figure","slider__dot",null,t),0===i&&slider__dot.classList.add("slider__dot--active")}}).then(function(e){for(var t=document.querySelectorAll(".nav__menu-link"),s=document.querySelectorAll("#button-scroll"),i=0;i<s.length;i++)s[i].addEventListener("click",n),s[i].addEventListener("touch",n);for(var a=0;a<t.length;a++)t[a].addEventListener("click",n),t[a].addEventListener("touch",n);function n(e){e.preventDefault();var t="#"===e.currentTarget.getAttribute("href")?"header":e.currentTarget.getAttribute("href"),s=document.querySelector(t).offsetTop-60,i=window.pageYOffset,a=s-i,n=700,r=null;window.requestAnimationFrame(function e(t){r=r||t;var s=t-r;window.scrollTo(0,c(s,i,a,n));s<n&&window.requestAnimationFrame(e)}),history.pushState?history.pushState(null,null,t):location.hash=t}var c=function(e,t,s,i){return(e/=i/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t}}).then(function(e){function t(){i=++l-1,a=l+1,l==c.length&&(l=0,i=c.length-1,a=l+1),l==c.length-1&&(a=0),c[i].classList.add("slider__slide--left"),c[a].classList.add("slider__slide--right"),c[l].classList.remove("slider__slide--right"),c[l].classList.remove("slider__slide--left"),r[l].classList.add("slider__dot--active"),r[i].classList.remove("slider__dot--active")}function s(){i=--l+1,a=l-1,l<0&&(l=c.length-1,i=0,a=l-1),0==l&&(a=c.length-1),c[i].classList.add("slider__slide--right"),c[a].classList.remove("slider__slide--right"),c[a].classList.add("slider__slide--left"),c[l].classList.remove("slider__slide--left"),r[i].classList.remove("slider__dot--active"),r[l].classList.add("slider__dot--active")}var i,a,n=document.querySelectorAll("#arrow"),r=document.querySelectorAll(".slider__dot"),c=document.querySelectorAll(".slider__slide"),l=0;n[1].addEventListener("click",t),n[1].addEventListener("touch",t),n[0].addEventListener("click",s),n[0].addEventListener("touch",s),document.addEventListener("keydown",function(e){37==e.keyCode&&s(),39==e.keyCode&&t()});for(var o=function(e){i=(l=e)-1,a=l+1,l==c.length-1&&(a=0),0==l&&(i=c.length-1);for(var t=0;t<c.length;t++)l<t&&c[t].classList.add("slider__slide--right"),t<l&&c[t].classList.add("slider__slide--left");c[i].classList.add("slider__slide--left"),c[i].classList.remove("slider__slide--right"),c[a].classList.add("slider__slide--right"),c[l].classList.remove("slider__slide--right"),c[l].classList.remove("slider__slide--left");for(var s=0;s<r.length;s++)r[s].classList.remove("slider__dot--active");r[l].classList.add("slider__dot--active")},d=function(t){r[t].addEventListener("click",function(e){o(t)}),r[t].addEventListener("touch",function(e){o(t)})},_=0;_<r.length;_++)d(_)}).catch(function(e){console.log("Błąd API: ",e);n("slider__errorApi","h2","slider__error-api","Przepraszamy. Brak połączenia z serwerem.",r)});var t=document.querySelector(".nav__hamburger"),s=document.querySelector(".nav__hamburger-line"),i=document.querySelector(".nav__menu");t.addEventListener("click",function(e){s.classList.toggle("nav__hamburger-line--active"),t.classList.toggle("nav__hamburger--active"),i.classList.toggle("nav__menu--active")},!1),t.addEventListener("touch",function(e){s.classList.toggle("nav__hamburger-line--active"),t.classList.toggle("nav__hamburger--active"),i.classList.toggle("nav__menu--active")},!1);for(var e=document.querySelectorAll(".nav__menu-link"),a=0;a<e.length;a++)e[a].addEventListener("click",function(e){s.classList.remove("nav__hamburger-line--active"),t.classList.remove("nav__hamburger--active"),i.classList.add("nav__menu--active")},!1),e[a].addEventListener("touch",function(e){s.classList.remove("nav__hamburger-line--active"),t.classList.remove("nav__hamburger--active"),i.classList.add("nav__menu--active")},!1);for(var c=document.createDocumentFragment(),l=document.querySelectorAll(".statistics__digit-wrapper"),o=[6,3,3,4,9,5,1,5],d=0;d<o.length;d++){for(var _=0;_<=o[d];_++)n("statistics__digit","p","statistics__digit",_,c);l[d].appendChild(c)}var u=window.pageYOffset+60,v=document.querySelector(".nav");window.onscroll=function(){var e=window.pageYOffset;if(e<u?v.classList.remove("nav--hide"):v.classList.add("nav--hide"),e>l[0].offsetTop-window.innerHeight)l[0].classList.add("statistics__digit-wrapper--animate"),l[1].classList.add("statistics__digit-wrapper--animate"),l[2].classList.add("statistics__digit-wrapper--animate"),l[2].addEventListener("animationend",function(e){l[3].classList.add("statistics__digit-wrapper--animate"),l[4].classList.add("statistics__digit-wrapper--animate"),l[5].classList.add("statistics__digit-wrapper--animate")}),l[5].addEventListener("animationend",function(e){l[6].classList.add("statistics__digit-wrapper--animate"),l[7].classList.add("statistics__digit-wrapper--animate")});else for(var t=0;t<l.length;t++)l[t].classList.remove("statistics__digit-wrapper--animate");u=e}}();