"use strict";!function(){for(var i=document.querySelectorAll(".form__checkbox-info"),o=document.querySelectorAll(".form__checkbox"),e=function(t){i[t].addEventListener("click",function(e){1==o[t].checked&&i[t].classList.remove("form__checkbox-info--chec"),0==o[t].checked&&i[t].classList.add("form__checkbox-info--chec")}),i[t].addEventListener("touch",function(e){1==o[t].checked&&i[t].classList.remove("form__checkbox-info--chec"),0==o[t].checked&&i[t].classList.add("form__checkbox-info--chec")})},t=0;t<i.length;t++)e(t);var d=document.querySelectorAll(".form__input"),a=document.querySelectorAll(".form__label"),s=function(t){d[t].addEventListener("focus",function(e){a[t].classList.add("form__label--active")}),d[t].addEventListener("focusout",function(e){""==d[t].value&&a[t].classList.remove("form__label--active")})};for(t=0;t<d.length;t++)s(t);var r=document.querySelectorAll("#form"),c=document.querySelectorAll(".form__error--checkbox"),_=document.querySelectorAll("#error"),n=document.querySelectorAll(".form__status"),l=document.querySelectorAll(".loader"),u=function(t){d[t].addEventListener("focus",function(e){_[t].classList.add("form__error--not-active")})};for(t=0;t<d.length;t++)u(t);var m=function(t){i[t].addEventListener("click",function(e){c[t].classList.add("form__error--not-active")})};for(t=0;t<i.length;t++)m(t);function f(e,t,s,i){for(var a=0,r=0,n=e;n<t;n++)0==o[n].checked&&(c[n].classList.remove("form__error--not-active"),a++);for(var l=s;l<i;l++)0==d[l].value.length&&(_[l].classList.remove("form__error--not-active"),r++);if(0<a||0<r)return!1}r[0].addEventListener("submit",function(e){if(e.preventDefault(),0==f(0,2,0,3))return!1;$.ajax({type:"POST",url:"../../inc/send_inwestments.php",data:{name:$("#name").val(),phone:$("#phone").val(),message:$("#message").val()},success:function(e){l[0].classList.add("loader--hidden"),n[0].textContent="Wiadomość została wysłana",n[0].classList.add("form__status--active")},error:function(e,t,s){console.log(e+t+s),l[0].classList.add("loader--hidden"),n[0].textContent="Bład systemu",n[0].classList.add("form__status--active")}});for(var t=0;t<2;t++)i[t].classList.remove("form__checkbox-info--chec"),o[t].checked=!1;for(var s=0;s<3;s++)d[s].value="",a[s].classList.remove("form__label--active");l[0].classList.remove("loader--hidden")}),r[1].addEventListener("submit",function(e){if(e.preventDefault(),0==f(2,4,3,6))return!1;$.ajax({type:"POST",url:"../../inc/send_contact.php",data:{name:$("#nameContact").val(),phone:$("#phoneContact").val(),message:$("#messageContact").val()},success:function(e){l[1].classList.add("loader--hidden"),n[1].textContent="Wiadomość została wysłana",n[1].classList.add("form__status--active")},error:function(e,t,s){console.log(e+t+s),l[1].classList.add("loader--hidden"),n[1].textContent="Bład systemu",n[1].classList.add("form__status--active")}});for(var t=2;t<i.length;t++)i[t].classList.remove("form__checkbox-info--chec"),o[t].checked=!1;for(var s=3;s<d.length;s++)d[s].value="",a[s].classList.remove("form__label--active");l[1].classList.remove("loader--hidden")});var v=function(e){r[e].addEventListener("click",function(){n[e].classList.remove("form__status--active")}),r[e].addEventListener("touch",function(){n[e].classList.remove("form__status--active")})};for(t=0;t<n.length;t++)v(t)}(),function(){function s(e,t,s,i,a){window[e]=document.createElement(t),window[e].classList.add(s),window[e].innerText=i,a.appendChild(window[e])}function i(e){for(var t=["Północ","Północny-Wschód","Wschód","Południowy-Wschód","Południe","Południowy-Zachód","Zachód","Północny-Zachód"],s=1;s<t.length;s++)if(e==t[s])return 45*s}var a=document.createDocumentFragment(),r=document.createDocumentFragment();fetch("https://api.adcookie.usermd.net/deweloper/").then(function(e){return e.json()}).then(function(e){for(var t=0;t<e.length;t++)s("slider__slide","div","slider__slide",null,a),0<t&&t!=e.length-1&&slider__slide.classList.add("slider__slide--right"),t==e.length-1&&slider__slide.classList.add("slider__slide--left"),s("slider__infoWrapper","div","slider__info-wrapper",null,slider__slide),s("slider__localName","h2","slider__local-name",e[t].nazwa,slider__infoWrapper),s("figureLine","figure","figure-line",null,slider__infoWrapper),s("slider__localYardage","p","slider__local-yardage","Metraż: ".concat(e[t].metraz," m2"),slider__infoWrapper),s("slider__localPrice","p","slider__local-price","Cena Netto: ".concat(e[t].netto.toLocaleString("pl-PL")," zł*"),slider__infoWrapper),s("slider__localInfoPrice","p","slider__local-info-price","* cena nie zawiera 23% VAT",slider__infoWrapper),s("slider__localFloor","p","slider__local-floor","Piętro: ".concat(e[t].pietro," "),slider__infoWrapper),s("slider__localDestyny","p","slider__local-destyny","Przeznaczenie: ".concat(e[t].przeznaczenie),slider__infoWrapper),s("slider__loacalStatus","p","slider__loacal-status","Status: ".concat(e[t].status),slider__infoWrapper),s("buttonLink","a","button--link",null,slider__infoWrapper),buttonLink.href="#investments",s("askButton","button","button--black","Zapytaj",buttonLink),askButton.classList.add("button--ask"),askButton.classList.add("button"),s("downloadButtonLink","a","button--link",null,slider__infoWrapper),downloadButtonLink.href="assets/images/plan.pdf",downloadButtonLink.target="_blank",s("downloadButton","button","button--black","Pobierz plan",downloadButtonLink),downloadButton.classList.add("button--download"),downloadButton.classList.add("button"),s("slider__blueprint","img","slider__blueprint",null,slider__slide),s("slider__mapWrapper","div","slider__map-wrapper",null,slider__slide),s("slider__compass","img","slider__compass",null,slider__mapWrapper),slider__compass.style.transform="rotate(".concat(i(e[t].ekspozycja),"deg)"),s("slider__map","img","slider__map",null,slider__mapWrapper),0==e[t].pietro?slider__localFloor.textContent+="- Parter":slider__localFloor.textContent+="- Piętro",slider__blueprint.src=e[t].obrazki.rzut,slider__compass.src="assets/images/SVG/polnoc.svg",slider__map.src=e[t].obrazki.pietro,s("slider__dot","figure","slider__dot",null,r),0===t&&slider__dot.classList.add("slider__dot--active");document.querySelector(".slider").appendChild(a),document.querySelector(".slider__dots-wrapper").appendChild(r)}).then(function(e){$(document).ready(function(){$('a[href^="#"]').on("click touch",function(e){var t=$($(this).attr("href"));t.length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top-60},500))})})}).then(function(e){function t(){i=++o-1,a=o+1,o==l.length&&(o=0,i=l.length-1,a=o+1),o==l.length-1&&(a=0),l[i].classList.add("slider__slide--left"),l[a].classList.add("slider__slide--right"),l[o].classList.remove("slider__slide--right"),l[o].classList.remove("slider__slide--left"),n[o].classList.add("slider__dot--active"),n[i].classList.remove("slider__dot--active")}function s(){i=--o+1,a=o-1,o<0&&(o=l.length-1,i=0,a=o-1),0==o&&(a=l.length-1),l[i].classList.add("slider__slide--right"),l[a].classList.remove("slider__slide--right"),l[a].classList.add("slider__slide--left"),l[o].classList.remove("slider__slide--left"),n[i].classList.remove("slider__dot--active"),n[o].classList.add("slider__dot--active")}var i,a,r=document.querySelectorAll("#arrow"),n=document.querySelectorAll(".slider__dot"),l=document.querySelectorAll(".slider__slide"),o=0;r[1].addEventListener("click",t),r[1].addEventListener("touch",t),r[0].addEventListener("click",s),r[0].addEventListener("touch",s),document.addEventListener("keydown",function(e){37==e.keyCode&&s(),39==e.keyCode&&t()});for(var d=function(e){i=(o=e)-1,a=o+1,o==l.length-1&&(a=0),0==o&&(i=l.length-1);for(var t=0;t<l.length;t++)o<t&&l[t].classList.add("slider__slide--right"),t<o&&l[t].classList.add("slider__slide--left");l[i].classList.add("slider__slide--left"),l[i].classList.remove("slider__slide--right"),l[a].classList.add("slider__slide--right"),l[o].classList.remove("slider__slide--right"),l[o].classList.remove("slider__slide--left");for(var s=0;s<n.length;s++)n[s].classList.remove("slider__dot--active");n[o].classList.add("slider__dot--active")},c=function(t){n[t].addEventListener("click",function(e){d(t)}),n[t].addEventListener("touch",function(e){d(t)})},_=0;_<n.length;_++)c(_)}).catch(function(e){console.log("Błąd API: ",e);s("slider__errorApi","h2","slider__errorApi","Przepraszamy. Brak połączenia z serwerem.",slider)});var t=document.querySelector(".nav__hamburger"),n=document.querySelector(".nav__hamburger-line"),l=document.querySelector(".nav__menu");t.addEventListener("click",function(e){n.classList.toggle("nav__hamburger-line--active"),t.classList.toggle("nav__hamburger--active"),l.classList.toggle("nav__menu--active")},!1),t.addEventListener("touch",function(e){n.classList.toggle("nav__hamburger-line--active"),t.classList.toggle("nav__hamburger--active"),l.classList.toggle("nav__menu--active")},!1);for(var e=document.querySelectorAll(".nav__menu-link"),o=0;o<e.length;o++)e[o].addEventListener("click",function(e){n.classList.remove("nav__hamburger-line--active"),t.classList.remove("nav__hamburger--active"),l.classList.add("nav__menu--active")},!1),e[o].addEventListener("touch",function(e){n.classList.remove("nav__hamburger-line--active"),t.classList.remove("nav__hamburger--active"),l.classList.add("nav__menu--active")},!1);for(var d=document.createDocumentFragment(),c=document.querySelectorAll(".statistics__digit-wrapper"),_=[6,3,3,4,9,5,1,5],u=0;u<_.length;u++){for(var m=0;m<=_[u];m++)s("statistics__digit","p","statistics__digit",m,d);c[u].appendChild(d)}var f=window.pageYOffset,v=document.querySelector(".nav");window.onscroll=function(){var e=window.pageYOffset;if(e<f?v.classList.remove("nav--hide"):v.classList.add("nav--hide"),e>c[0].offsetTop-window.innerHeight)c[0].classList.add("statistics__digit-wrapper--animate"),c[1].classList.add("statistics__digit-wrapper--animate"),c[2].classList.add("statistics__digit-wrapper--animate"),c[2].addEventListener("animationend",function(e){c[3].classList.add("statistics__digit-wrapper--animate"),c[4].classList.add("statistics__digit-wrapper--animate"),c[5].classList.add("statistics__digit-wrapper--animate")}),c[5].addEventListener("animationend",function(e){c[6].classList.add("statistics__digit-wrapper--animate"),c[7].classList.add("statistics__digit-wrapper--animate")});else for(var t=0;t<c.length;t++)c[t].classList.remove("statistics__digit-wrapper--animate");f=e}}();